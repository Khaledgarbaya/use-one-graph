{"version":3,"file":"index.mjs","sources":["../src/util/auth.js","../src/index.js"],"sourcesContent":["import OneGraphAuth from \"onegraph-auth\"\n\nlet auth\n\nexport default appId => {\n  if (!auth) {\n    auth = new OneGraphAuth({\n      appId,\n    })\n  }\n  return auth\n}\n","import { useState } from \"react\"\nimport getAuth from \"./util/auth\"\n\nexport const useOneGraphAuth = (defaultService, appId) => {\n  const [authenticated, setAuthenticated] = useState(false)\n  const client = getAuth(appId)\n  const login = async (service = defaultService) => {\n    await client.login(service)\n    const authenticated = await client.isLoggedIn(service)\n    setAuthenticated(authenticated)\n  }\n\n  const logout = async (service = defaultService) => {\n    await client.logout(service)\n\n    setAuthenticated({\n      authenticated: false,\n    })\n  }\n\n  return { login, logout, authenticated, client }\n}\n"],"names":["let","auth","useOneGraphAuth","defaultService","appId","useState","client","OneGraphAuth","getAuth","service","login","isLoggedIn","authenticated","setAuthenticated","logout"],"mappings":"8DAEAA,IAAIC,ECCSC,WAAmBC,EAAgBC,SACJC,GAAS,iBAC7CC,WDDOF,UACRH,IACHA,EAAO,IAAIM,EAAa,OACtBH,KAGGH,ECLQO,CAAQJ,SAehB,gBAdcK,kBAAUN,8BACvBG,EAAOI,MAAMD,2CACSH,EAAOK,WAAWF,kBAAxCG,GACNC,EAAiBD,2DAGGH,kBAAUN,8BACxBG,EAAOQ,OAAOL,oBAEpBI,EAAiB,CACfD,eAAe,wDAIKA,SAAeN"}